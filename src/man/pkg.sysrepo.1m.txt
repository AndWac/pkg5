System Administration Commands                    pkg.sysrepo(1M)


NAME
     pkg.sysrepo - image packaging system system repository  con-
     figuration

SYNOPSIS
     pkg.sysrepo -p <port> [ -c cache_dir] [-s cache_size]

DESCRIPTION

     pkg.sysrepo(1M) is used to generate the configuration files 
     for the IPS System Repository.  This command is called by 
     the svc:/application/pkg/system-repository SMF service.  
     Changes in configuration should be made to the properties in 
     the SMF service.

     The system repository is responsible for providing access to
     the  package  repositories  configured  in a reference image
     through  a  centralized  proxy.    Publisher   configuration
     changes  made  to  that reference image will be seen immedi-
     ately by any clients configured to use  the  system  reposi-
     tory.

     The system repository is primarily used in the  global  zone
     to allow non-global zones to access the repositories config-
     ured   in   the   global    zone.     The    SMF    services
     svc:/system/zones-proxyd  and svc:/system/zones-proxy-client
     are also involved in providing this support.

     Note that only http, https and v4 file repositories are sup-
     ported: p5p-based file repositories or older file-repository
     formats are not supported. See pkgrepo(1) for more  informa-
     tion about repository versions.

OPTIONS
     The following options are supported:


     -c cache_dir         The absolute path to a  directory  that
                          should be used by the system repository
                          for caching responses from the publish-
                          ers configured.

                          By default, a file-cache is used,  how-
                          ever, the special value 'memory' can be
                          used  to  indicate  that  an  in-memory
                          cache  should  be  used.   The  special
                          value 'None' can be  used  to  indicate
                          that  the  system repository should not
                          perform  any  caching.   This   setting
                          should    be   configured   using   the
                          'config/cache_dir' SMF property.


SunOS 5.11          Last change: 22 Apr 2011                    1


System Administration Commands                    pkg.sysrepo(1M)



     -p port              The port which  the  system  repository
                          should  use  on  which  to  listen  for
                          requests.  This setting should be  con-
                          figured  using  the  'config/port'  SMF
                          property.


     -s cache_size        An integer value,  expressed  in  mega-
                          bytes  which  defines the maximum cache
                          size of  the  system  repository.  This
                          setting  should be configured using the
                          'config/cache_max' SMF property.



EXAMPLES
     Example 1:  Enabling the system repository


       $ svcadm enable svc:/application/pkg/system-repository


EXIT STATUS
     The following exit values are returned:

     0   Command succeeded.


     1   Command failed to write a valid configuration.


     2   Invalid command line options were specified.

ATTRIBUTES
     See attributes(5) for descriptions of the  following  attri-
     butes:

SunOS 5.11          Last change: 22 Apr 2011                    2


System Administration Commands                    pkg.sysrepo(1M)



  /usr/lib/pkg.sysrepo
          ____________________________________________________________
         |       ATTRIBUTE TYPE        |       ATTRIBUTE VALUE       |
         |_____________________________|_____________________________|
         | Availability                | pkg:/package/pkg            |
         |_____________________________|_____________________________|
         | Interface Stability         | None / Under Development    |
         |_____________________________|_____________________________|


SEE ALSO
     pkg(1), pkg.depotd(1M), pkg(5)


NOTES
     The image packaging system is an under-development  feature.
     Command  names,  invocation, formats, and operations are all
     subject to change.  Development is hosted in the OpenSolaris
     community at:


     http://hub.opensolaris.org/bin/view/Project+pkg/



SunOS 5.11          Last change: 22 Apr 2011                    3



