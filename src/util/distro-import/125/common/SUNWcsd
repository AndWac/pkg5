package SUNWcsd
classification "System/Core"
import SUNWcsd
#
# Ideally SUNWcsd would deliver empty or near-empty versions the device
# database files that driver actions and programs like add_drv(1M)
# manipulate.  However certain entries need to be present at the present
# time in order to work around various issues including versions of
# add_drv prior to 6877673 that are unable to deal with minor names that
# contain an embedded comma.  The statements below drop many of these
# databases and replace the versions from the SVR4 package with the
# minimal set required, which may be different for each architecture.
#
drop etc/driver_aliases
drop etc/driver_classes
drop etc/minor_perm
drop etc/name_to_major
drop etc/security/device_policy
$(i386_ONLY)add file driver_aliases.i386 path=etc/driver_aliases mode=0644 \
$(i386_ONLY)    owner=root group=sys preserve=true opensolaris.zone=global
$(sparc_ONLY)add file /dev/null path=etc/driver_aliases mode=0644 \
$(sparc_ONLY)    owner=root group=sys preserve=true opensolaris.zone=global
add file /dev/null path=etc/driver_classes \
    mode=0644 owner=root group=sys preserve=true opensolaris.zone=global
add file minor_perm.$(ARCH) path=etc/minor_perm \
    mode=0644 owner=root group=sys preserve=true opensolaris.zone=global
add file name_to_major.$(ARCH) path=etc/name_to_major \
    mode=0644 owner=root group=sys preserve=true opensolaris.zone=global
add file device_policy path=etc/security/device_policy \
    mode=0644 owner=root group=sys preserve=true opensolaris.zone=global
end package
