package SUNWcs
classification "System/Core"
import SUNWcsu exclude usr/openwin
# BEGIN NON-REDISTRIBUTABLE
drop usr/bin/ksh
drop usr/bin/pfksh
drop usr/bin/rksh
add link path=usr/bin/rksh target=rksh93
# END NON-REDISTRIBUTABLE
# /usr/has
add dir path=usr/has mode=0755 owner=root group=bin
add dir path=usr/has/bin mode=0755 owner=root group=bin
add dir path=usr/has/man mode=0755 owner=root group=bin
add dir path=usr/has/man/man1 mode=0755 owner=root group=bin
# Replace BSD vi with vim
drop usr/bin/ex
drop usr/bin/vi
drop usr/bin/view
# Use the 32-bit ksh93 as a replacement /bin/sh
drop usr/bin/pfsh
add link path=usr/bin/pfsh target=../has/bin/sh
from SUNWman import
usr/share/man/man1/ex.1
usr/share/man/man1/sh.1
usr/share/man/man1/vi.1
usr/share/man/man1/view.1
chattr usr/share/man/man1/ex.1 path=usr/has/man/man1/ex.1
chattr usr/share/man/man1/sh.1 path=usr/has/man/man1/sh.1
chattr usr/share/man/man1/vi.1 path=usr/has/man/man1/vi.1
chattr usr/share/man/man1/view.1 path=usr/has/man/man1/view.1
end import
# XXX until new clofi hits nevada
drop usr/sbin/lofiadm
from SUNWclofi import
usr/lib/lzma.so
usr/sbin/lofiadm
end import
import SUNWcsr
drop etc/inet/hosts
drop etc/nsswitch.conf
drop etc/pam.conf
drop etc/passwd
drop etc/security/policy.conf
drop etc/shadow
drop var/svc/profile/generic_limited_net.xml
drop var/svc/profile/generic_open.xml
# Use the 32-bit ksh93 as a replacement /bin/sh
drop sbin/pfsh
drop sbin/sh
add link path=sbin/pfsh target=../usr/has/bin/sh
add link path=sbin/sh target=../usr/bin/i86/ksh93
from ./SUNWfixes import
# until the necessary actions are available
etc/inet/services
etc/security/auth_attr
etc/security/prof_attr
# switch to gdm
var/svc/profile/generic_open.xml
var/svc/profile/generic_limited_net.xml
# customizations for indiana
etc/inet/hosts
etc/mailcap
etc/mime.types
etc/nsswitch.conf
etc/pam.conf
etc/passwd
etc/security/exec_attr
etc/security/policy.conf
etc/shadow
etc/user_attr
root
root/.bashrc
root/.profile
usr/bin/ksh
usr/has/bin/ex
usr/has/bin/sh
usr/has/bin/vi
usr/has/bin/view
end import
# include etc/ftpd/ftpusers in base package
from SUNWftpr import
etc/ftpd/ftpusers
end import
# replace svc-hostid w/ modified version for build 100
drop lib/svc/method/svc-hostid
from ./SUNWfixes import
lib/svc/method/svc-hostid
usr/sbin/extract_hostid
end import
#
end package
